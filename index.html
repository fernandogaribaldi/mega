<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Escolha seus n√∫meros</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #f5f5f5;
      margin: 0;
      padding: 20px; /* üîπ mais recuo das bordas */
    }
    h1 {
      margin-bottom: 20px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 12px; /* üîπ mais espa√ßo entre bot√µes */
      margin: 0 auto 20px;
      max-width: 95vw;
    }
    .grid button {
      padding: 12px;
      font-size: 16px;
      border: 2px solid #007BFF;
      border-radius: 8px;
      background-color: white;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .grid button.selected {
      background-color: #007BFF;
      color: white;
    }
    .grid button:active {
      transform: scale(0.95);
    }
    #submit {
      margin-top: 25px;
      padding: 14px 22px;
      font-size: 18px;
      border: none;
      border-radius: 10px;
      background-color: #28a745;
      color: white;
      cursor: pointer;
      transition: background 0.2s;
    }
    #submit:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
    #results {
      margin-top: 40px;
      text-align: left;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
</head>
<body>
  <h1>Escolha 6 n√∫meros</h1>
  <div class="grid" id="grid"></div>
  <button id="submit" disabled>Enviar</button>

  <h2>Conjuntos enviados:</h2>
  <div id="results"></div>

  <script>
    const grid = document.getElementById("grid");
    const submit = document.getElementById("submit");
    const resultsDiv = document.getElementById("results");

    // URL do seu Worker (n√£o altere se j√° est√° funcionando)
    const GOOGLE_SCRIPT_URL = "https://proxy-numeros.fernando-garibaldi.workers.dev/";

    let selected = [];

    // Criar bot√µes 1 a 60
    for (let i = 1; i <= 60; i++) {
      const btn = document.createElement("button");
      btn.textContent = i;
      btn.value = i;
      btn.addEventListener("click", () => toggleNumber(btn));
      grid.appendChild(btn);
    }

    function toggleNumber(btn) {
      const num = parseInt(btn.value);
      if (selected.includes(num)) {
        selected = selected.filter(n => n !== num);
        btn.classList.remove("selected");
      } else {
        if (selected.length < 6) {
          selected.push(num);
          btn.classList.add("selected");
        } else {
          alert("Voc√™ s√≥ pode escolher 6 n√∫meros!");
        }
      }
      submit.disabled = selected.length !== 6;
    }

    async function loadResults() {
      const res = await fetch(GOOGLE_SCRIPT_URL);
      const data = await res.json();
      resultsDiv.innerHTML = "";
      if (data && data.length > 0) {
        data.forEach(row => {
          const div = document.createElement("div");
          div.textContent = row.join(", ");
          resultsDiv.appendChild(div);
        });
      }
    }

    submit.addEventListener("click", async () => {
      await fetch(GOOGLE_SCRIPT_URL, {
        method: "POST",
        body: JSON.stringify({ numbers: selected })
      });
      selected = [];
      document.querySelectorAll(".grid button").forEach(btn => btn.classList.remove("selected"));
      submit.disabled = true;
      loadResults();
    });

    // Carregar resultados ao abrir
    loadResults();
  </script>
</body>
</html>
